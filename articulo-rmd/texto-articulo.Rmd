---
title: "Una mirada a los datos sobre la protesta social en Ecuador"
author: "Daniel Sánchez"
date: "Julio 2022"
bibliography: refs-article-protests.bib
output: html_document
---

A mediados de junio 2022, la Confederación de Nacionalidades Indígenas del Ecuador (CONAIE) convocó a una movilización masiva en el país con el fin de que el programa de gobierno de Guillermo Lasso, elegido en abril 2021, incluya diez pedidos de índole económica y social [@Pazmino.2022]. Después de 18 días de manifestaciones, el paro terminó tras un acuerdo entre el gobierno nacional y la CONAIE, mediado por la iglesia católica mediante la Conferencia Episcopal [@GK.2022]. Las manifestaciones dejan al Ecuador con nueve muertos, millones de dólares en daños y pérdidas económicas así como varios heridos y aprehendidos por la policía [@Maria.2022;@Montalvo.2022;@Comercio.2022].

Desde 2019, el Ecuador parece haber perdido la relativa estabilidad política que tuvo durante los diez años de gobierno de Rafael Correa, puesto que desde octubre de ese año tomaría lugar una protesta histórica liderada una vez más por la CONAIE contra el gobierno del entonces presidente Lenín Moreno [@LAPOPReport.2022]. Sin embargo, el período de estabilidad ha sido más bien la excepción y no la norma, puesto que históricamente Ecuador ha tenido un golpe de estado cada 6 años, y un 50% de esos golpes de estado fueron exitosos derrocando al gobierno [@Loaiza.2022]. Dada la importancia de movilizaciones en el contexto político, social y económico del Ecuador y la renovada inestabilidad política, es imperante una mirada objetiva a las protestas y el contexto que las rodean desde un punto de vista cuantitativo, un punto de vista que logre aportar a la discusión política que se avecina post-paro. 

Para entender mejor la protesta de junio 2022 lo natural sería mirar hacia la protesta del 2019, la segunda más reciente y la que en muchos aspectos es similar a la de 2022 debido a los actores políticos involucrados: CONAIE, oposición correísta y gobierno central anticorreísta. Lastimosamente, esta protesta se sitúa en punto desafortunado del tiempo: debido a su proximidad con el comienzo de la pandemia del COVID-19 cualquier encuesta de opinión pública (o al menos las que abren sus datos al público) se realizó varios meses después de que las movilizaciones tomaron lugar. 

La encuesta del Barómetro de las Américas (AB) del Latin American Public Opinion Project (LAPOP), por ejemplo, tuvo una ronda a comienzos del 2019 y solamente pudo retornar en 2021, sin la posibilidad de hacer preguntas sobre las protestas de 2019 debido a los efectos de la pandemia.

```{r setup, include = FALSE}
# Opciones de chunks

knitr::opts_chunk$set(echo = TRUE, include = F)

# Cargar librerias

library(survey)
library(tidyverse)

# Cargar datos

load('../data/rdata/LAPOP 2004-2019 Manipulated Dataframe.Rdata')

# Realiza el survey design 2004-2019

lapop_des<-svydesign(ids = ~ upm, 
                     strata = ~ estratopri, 
                     weights = ~ weight1500, 
                     nest = TRUE,
                     na.action = 'na.exclude',
                     data = df)

# Definimos colores en HEX para los gráficos

quant_blue<-'#09A4CC'
quant_grey<-'#5C7C94'
quant_orange<-'#F8754D'
quant_red<-'#F44D54'

# Creamos un theme para ggplot2

theme_article_ds<-
  theme_bw() +
  theme(panel.grid = element_blank(),
        axis.text.y = element_blank(),
        axis.ticks = element_blank()) 

```


```{r grafico-participacion-protesta, include = T, echo = F}
# Debemos construir una sola variable en la base de datos que denote 1 si es que se participó en protest, 0 de otra forma

# De 2010 a 2019 se tiene prot3

# De 2006 a 2008 se tiene dos preguntas diferentes. 2004 no tiene pregunta sobre participación en protesta

# En el script de manipulación, he unificado las variables prot1, prot2 y prot3 en una sola (prot3)

# Por ende, tabulamos esa variable a lo largo del tiempo 

prot_time<-
  svyby(~ protest,
        ~ year,
        design = lapop_des,
        svymean,
        na.rm = T)

# Creamos una base de datos "tidy" para esto

prot_df<-
  prot_time %>%
  filter(protest > 0) %>% 
  as.data.frame()

rownames(prot_df)<-NULL

# Ahora si nuestro gráfico

ggplot(prot_df, aes(x = year, y = protest))+
  geom_col(fill = quant_blue,
           color = 'black', 
           width = 0.7)+
  geom_vline(xintercept = 0.5, linetype = 'dotted', color = quant_red, size = 1.25)+
  geom_vline(xintercept = 3.5, linetype = 'dotted', color = quant_red, size = 1.25)+
  geom_vline(xintercept = 5.55, linetype = 'dotted', color = quant_red, size = 1.25)+
  geom_vline(xintercept = 7.5, linetype = 'dotted', color = quant_red, size = 1.25)+
  geom_errorbar(aes(ymin = protest - 1.96*se,
                    ymax = protest + 1.96*se),
                width = 0.3)+
  geom_text(aes(label = round(protest, 4)*100),
                size = 3,
                vjust = 5)+
  labs(x = 'Ronda de la Encuesta AB',
       y = 'Porcentaje de población en edad de votar',
       title = 'Participación en una protesta en los últimos 12 meses en Ecuador',
       subtitle = 'Datos del AB (LAPOP). Barras representan intervalos de confianza al 95%. \nLíneas punteadas representan protestas de importancia en el país.')+
  theme_article_ds
```

